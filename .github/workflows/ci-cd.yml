name: CI/CD Pipeline

     on:
       push:
         branches: [ main ]
       pull_request:
         branches: [ main ]

     jobs:
       build:
         runs-on: ubuntu-latest
         steps:
           - uses: actions/checkout@v3
           - name: Setup Node.js
             uses: actions/setup-node@v3
             with:
               node-version: '20'
           - name: Install Dependencies
             run: npm install
           - name: Lint
             run: npm run lint || echo "Linting skipped if no lint script"
           - name: Build
             run: npm run build
           - name: Deploy to Vercel
             if: github.event_name == 'push'
             run: npx vercel --prod --token=${{ secrets.VERCEL_TOKEN }}